params {
    help = null

    /* 
    Base directories
    */

    // Input
    genomeBaseDir = "${PWD}/data/references"

    // Output
    baseDirReport = "${PWD}/results/reports"
    baseDirData   = "${PWD}/results/data"

    /*
    Raw reads QC
    */
    skipRawFastQC = false

    /*
    Trim reads and QC
    */
    skipTrimReads   = false
    skipTrimReadsQC = false
    
    adapterR1 = 'CTGTCTCTTATACACATCT'
    adapterR2 = false

    /*
    Align
    */
    forceAlignRawReads = false
}


profiles {
    docker {
        docker.enabled = true
    }
    google {
        process.executor = 'google-lifesciences'
        workDir = 'gs://sralign/scratch'
        google.location = 'us-central1'
        google.region  = 'us-central1'
        google.project = 'sralign'
    }
}


process {
    withLabel: mem_mid {
        memory = 2.GB
    }
    withLabel: cpu_mid {
        cpus = 2
    }
}


// Load genomes config files

includeConfig 'configs/genomes.config'


/*
    Reporting
*/

timestamp = new java.util.Date().format('yyyy-MM-dd_HH-mm')

dag {
    enabled = true
    file    = "${params.baseDirReport}/tracing/${timestamp}_dag.html"
}

report {
    enabled = true
    file    = "${params.baseDirReport}/tracing/${timestamp}_report.html"
}


timeline{
    enabled = true
    file    = "${params.baseDirReport}/tracing/${timestamp}_timeline.html"
}


trace {
    enabled = true
    file    = "${params.baseDirReport}/tracing/${timestamp}_trace.html"
}
